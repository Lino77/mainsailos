#!/bin/bash
set -xe
export LC_ALL=C

########################################
# Functions and Basic Configuration    #
########################################

# Load common functions and set up cleanup trap
source /common.sh
install_cleanup_trap

# Load additional configuration (e.g., BASE_USER)
source /files/00-config

########################################
# Configuration                        #
########################################

readonly REPO_RATOS="https://github.com/Rat-OS/RatOS-configurator.git"
readonly BRANCH_RATOS="v2.1.x-deployment"
readonly REPO_THEME="https://github.com/Rat-OS/RatOS-theme.git"
readonly BRANCH_THEME="v2.1.x"

RATOS_DEPS=(git python3-serial python3-opencv)

apt-get install --yes "${DEPS[@]}"


pushd "/home/${BASE_USER}/printer_data/config" &> /dev/null || exit 1
sudo -u "${BASE_USER}" git clone "${REPO_THEME}" -b "${BRANCH_THEME}" .theme
popd &> /dev/null || exit 1
pushd "/home/${BASE_USER}" &> /dev/null || exit 1
sudo -u "${BASE_USER}" git clone "${REPO_RATOS}" -b "${BRANCH_RATOS}" ratos-configurator
popd &> /dev/null || exit 1

touch /var/log/ratos.log
touch /var/log/sonar.log

# Set default git merge strategy
sudo -u "${BASE_USER}" git config --global pull.ff only

# Create release file
if [ -f "/etc/ratos_version" ]; then
    sudo rm -f /etc/ratos_version
fi
function get_parent {
    cat /etc/os-release | grep VERSION_CODENAME | cut -d '=' -f2
}

echo "${DIST_NAME} v${DIST_VERSION} ($(get_parent))" > /etc/"${DIST_NAME,,}"-release

## Step 3: Install system dependencies
apt-get update --allow-releaseinfo-change
# shellcheck disable=SC2086
apt-get install --yes ${RATOS_DEPS}
## END Step 3

# Install RatOS Configurator
#sed -i 's/\$sudo rm "\$target"/$sudo rm -f "$target"/' /home/"${BASE_USER}"/ratos-configurator/app/scripts/common.sh
#sed -i '/^SCRIPT_DIR=/a CFG_DIR=$(realpath "$SCRIPT_DIR/..")\n' /home/"${BASE_USER}"/ratos-configurator/configuration/scripts/ratos-install.sh
#sed -i 's|"\$SCRIPT_DIR"/templates/initial-printer.template.cfg|"\$CFG_DIR"/templates/initial-printer.template.cfg|' /home/"${BASE_USER}"/ratos-configurator/configuration/scripts/ratos-install.sh
#sed -i 's|"\$SCRIPT_DIR"/boards/\*/\*.rules|"\$CFG_DIR"/boards/\*/\*.rules|' /home/"${BASE_USER}"/ratos-configurator/configuration/scripts/ratos-install.sh

sudo -u "${BASE_USER}" bash /home/"${BASE_USER}"/ratos-configurator/app/scripts/setup.sh

# Start the configurator so extensions can access the API
echo "Starting RatOS Configurator"
pushd "/home/${BASE_USER}/ratos-configurator/app"
sudo -u "${BASE_USER}" npm run start &
# Wait for configurator to start
# shellcheck disable=SC2016
timeout 300 bash -c 'while [[ "$(curl -s -o /dev/null -w ''%{http_code}'' localhost:3000)" != "404" ]]; do sleep 5; done' || false
popd

echo "RATOS CLI SANITY CHECKS"
echo $PATH
ls -la /usr/local/bin

# Install RatOS Configuration
sudo -u "${BASE_USER}" /home/"${BASE_USER}"/printer_data/config/RatOS/scripts/ratos-install.sh

# Create variant file
echo "${DISTRO}" > /etc/"${DISTRO}"-variant

# MOTD: RatOS logo
cat << EOF > /etc/motd
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚£Ä[0m[38;5;0m‚°Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†ò[0m[38;5;15m‚£ø[0m[38;5;145m‚£∑[0m[38;5;0m‚£¶[0m[38;5;0m‚£Ñ[0m[38;5;0m‚£Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;102m‚†π[0m[38;5;15m‚£∑[0m[38;5;0m‚°Ä[0m[38;5;188m‚¢â[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;70m‚£¶[0m[38;5;0m‚£Ñ[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;188m‚¢π[0m[38;5;15m‚£∑[0m[38;5;145m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;70m‚£á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;15m‚¢ª[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚¢†[0m[38;5;0m‚°Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†à[0m[38;5;15m‚¢ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;70m‚£¶[0m[38;5;0m‚°Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†ò[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚†ã[0m[38;5;15m‚¢ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;59m‚†∏[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;0m‚°Ä[0m[38;5;0m‚†à[0m[38;5;15m‚¢ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;76m‚¢π[0m[38;5;22m‚£¶[0m[38;5;0m‚°Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;145m‚†π[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£∑[0m[38;5;0m‚£Ñ[0m[38;5;0m‚¢∏[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;70m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;28m‚£Ü[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;15m‚¢ª[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;102m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;70m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;15m‚¢ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;70m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚°ø[0m[38;5;82m‚†É[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†à[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;70m‚†º[0m[38;5;82m‚†ã[0m[38;5;22m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†í[0m[38;5;0m‚†í[0m[38;5;0m‚†í[0m[38;5;0m‚†ö[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°á[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚¢Ä[0m[38;5;0m‚†§[0m[38;5;0m‚†í[0m[38;5;59m‚†ä[0m[38;5;188m‚¢π[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚¢∏[0m[38;5;82m‚£ø[0m[38;5;82m‚†ü[0m[38;5;82m‚†Å[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚¢Ä[0m[38;5;0m‚†î[0m[38;5;188m‚†Å[0m[38;5;188m‚†π[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;22m‚†ò[0m[38;5;82m‚†Å[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;145m‚†Å[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;145m‚†ô[0m[38;5;15m‚¢ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;15m‚£ø[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚£ø[0m[38;5;82m‚°ø[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†≤[0m[38;5;0m‚£∂[0m[38;5;0m‚£∂[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;82m‚£ø[0m[38;5;82m‚†ü[0m[38;5;76m‚†Å[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m
[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;102m‚†ô[0m[38;5;15m‚†õ[0m[38;5;59m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;76m‚†Å[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m[38;5;0m‚†Ä[0m

EOF
